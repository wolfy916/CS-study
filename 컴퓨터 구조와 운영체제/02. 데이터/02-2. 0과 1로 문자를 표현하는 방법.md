# 02-2. 0과 1로 문자를 표현하는 방법

## 문자 집합과 인코딩

- `문자집합(character set)`
    - 컴퓨터가 인식하고 표현할 수 있는 문자의 모음
    - 컴퓨터는 문자 집합에 속하지 않은 문자를 이해할 수 없음

- `문자 인코딩(character encoding)`
    - 문자를 0과 1로 변환하는 과정
    - 인코딩 후 0과 1로 이루어진 결과값이 문자코드가 되어, 컴퓨터가 이해할 수 있음.

- `문자 디코딩(character decoding)`
    - 0과 1로 이루어진 문자코드를 사람이 이해할 숫 있는 문자로 변환하는 과정

<br/>

## 아스키 코드

- `아스키(ASCII; American Standard Code for Information Interchange)`는 초창기 문자 집합 중 하나로, 영어 알파벳과 아라비아 숫자, 그리고 일부 특수 문자를 포함함.
- 이 집합에 포함된 문자를 `아스키 문자`라고 함.
- 이 문자들은 7bit로 표현되며 총 2<sup>n</sup> 개 = 128 개의 문자를 표현 가능
    - 실제로 하나의 아스키 문자를 나타내기 위해 8bit(1byte)를 사용하지만, 8bit 중 1bit는 패리티 비트(parity bit)라고 불리는, 오류 검출을 위해 사용되는 비트임.

<br/>

![ASCII_TABLE](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FqOPNt%2FbtrAdcY26CF%2FKsn1qKzUqEaCql1Cbk6GG0%2Fimg.png)

- 아스키 문자에 대응된 고유한 수를 `아스키 코드`라고 함.
    - 문자 인코딩에서 '글자에 부여된 고유한 값'을 `코드 포인트`라고 함.
- 참고로 아스키 코드 표를 보면 Backspac, Escape, Cancel, Space와 같은 제어 문자도 아스키 코드에 포함되있음을 알 수 있음.
- 이렇듯 아스키 코드는 매우 간단하게 인코딩되는 장점이 있음.
- 하지만 한글을 표현할 수 없고, 아스키 문자 집합 외의 문자, 특수문자도 표현할 수 없음
- 훗날 1비트가 추가된 8비트의 `확장 아스키`가 등장했지만, 그럼에도 표현 가능한 문자의 수는 256개로 턱 없이 부족함.
- 이런 이유로 등장한 한글 인코딩 방식이 바로 EUC-KR임.

## EUC-KR

- 알파벳은 쭉 이어 쓰면 단어가 되지만, 한글은 각 음절 하나하나가 초성, 중성, 종성의 조합으로 이루어짐
- 그래서, 한글 인코딩은 두 가지 방식, 완성형과 조합형이 존재
- `완성형 인코딩`
    - 초성, 중성, 종성의 조합으로 완성된 하나의 글자에 고유한 코드를 부여하는 인코딩 방식
- `조합형 인코딩`
    - 초성을 위한 비트열, 중성을 위한 비트열, 종성을 위한 비트열을 할당하는 방식
- `EUC-KR`은 KS X 1001, KS X 1003이라는 문자 집합을 기반으로 하는 대표적인 완성형 인코딩 방식으로 완성된 단어 하나에 2byte 크기의 코드를 부여함.
- 따라서, EUC-KR로 인코딩된 한글 한 글자를 표현하려면 16bit가 필요함.
- 16bit는 네 자리 십육진수로 표현할 수 있음.
- EUC-kR 인코딩 방식은 총 2,350개 정도의 한글 단어를 표현
- 하지만 모든 한글 조합을 표현하지는 못하며, 이는 웹사이트의 한글이 깨지는 등 크고 작은 문제를 유발함.
- 이를 해결하기 위해 등장한 것이 마이크로소프트의 `CP949`이지만, 이마저도 한글 전체를 표현하기에 넉넉한 양은 아님.

## 유니코드와 UTF-8

- `유니코드`
    - EUC-KR보다 훨씬 다양한 한글을 포함하며 대부분 나라의 문자, 특수문자, 화살표나 이모티콘까지도 코드로 표현할 수 있는 통일된 문자 집합.
    - 현대 문자를 표현할 때 가장 많이 사용되는 표준 문자 집합.
    - EUC-KR과 다르게 글자에 부여된 값 자체를 인코딩된 값으로 사용하지 않고, 이 값을 다양한 방법으로 인코딩 함.
    - 이런 인코딩 방식에는 UTF-8, UTF-16, UTF-32 등이 있음.

- `UTF-8`
    - 통상 1byte ~ 4byte까지의 인코딩 결과를 만들어냄.
    - 인코딩한 결과가 몇 바이트가 될지는 유니코드 문자에 부여된 값의 범위에 따라 결정됨.

|첫 코드 포인트|마지막 코드포인트|1바이트|2바이트|3바이트|4바이트|
|-|-|-|-|-|-|
|0000|007F|0`XXXXXXX`|X|X|X|
|0080|07FF|110`XXXXX`|10`XXXXXX`|X|X|
|0800|FFFF|1110`XXXX`|10`XXXXXX`|10`XXXXXX`|X|
|10000|10FFFF|11110`XXX`|10`XXXXXX`|10`XXXXXX`|10`XXXXXX`|

- '한글'을 UTF-8로 인코딩하는 경우
    - '한'과 '글'에 부여된 값은 각각 D55C<sub>(16)</sub>, AE00<sub>(16)</sub>
    - 두 글자 모두, 표에서 0800<sub>(16)</sub>와 FFFF<sub>(16)</sub> 사이에 있음
    - 따라서, 두 글자 모두, 3byte로 표현되는 것을 예상할 수 있음.
    - 각각 이진수로 변환하면
        - '한' = D55C<sub>(16)</sub> = 1101 0101 0101 1100<sub>(2)</sub>
        - '글' = AE00<sub>(16)</sub> = 1010 1110 0000 0000<sub>(2)</sub>
    - 이제 X표가 있는 곳에 대입하면 UTF-8 방식의 인코딩된 결과가 나옴.
        - '한' = 1110`1101` 10`010101` 10`011100`<sub>(2)</sub>
        - '글' = 1110`1010` 10`111000` 10`000000`<sub>(2)</sub>
